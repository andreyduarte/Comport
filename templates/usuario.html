{% extends "base.html" %}
{% block content %}
    <div class="profile-header" style="text-align: center; margin-bottom: 25px;">
        <div style="font-size: 60px; margin-bottom: 10px;">👤</div>
        <h1 style="margin-bottom: 5px;">{{ username }}</h1>
        <p style="color: #6c757d; font-size: 16px;">{{ user.turma }}</p>
    </div>

    <div class="stats-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px;">
        <div class="stat-card" style="background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); padding: 20px; border-radius: 16px; text-align: center; color: #333;">
            <div style="font-size: 30px; margin-bottom: 8px;">💰</div>
            <div style="font-size: 24px; font-weight: bold;">{{ user.pontuacao }}</div>
            <div style="font-size: 14px; opacity: 0.8;">Moedas</div>
        </div>
        
        <div class="stat-card" style="background: linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 100%); padding: 20px; border-radius: 16px; text-align: center; color: white;">
            <div style="font-size: 30px; margin-bottom: 8px;">🏆</div>
            <div style="font-size: 24px; font-weight: bold;">#{{ rank }}</div>
            <div style="font-size: 14px; opacity: 0.9;">Ranking</div>
        </div>
    </div>

    <div class="stats-extra" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 25px;">
        <div class="stat-card" style="background: linear-gradient(135deg, #58cc02 0%, #4caf50 100%); padding: 15px; border-radius: 12px; text-align: center; color: white;">
            <div style="font-size: 20px; margin-bottom: 5px;">✅</div>
            <div style="font-size: 18px; font-weight: bold;">{{ user.get('correct_questions', [])|length }}</div>
            <div style="font-size: 12px; opacity: 0.9;">Acertos</div>
        </div>
        
        <div class="stat-card" style="background: linear-gradient(135deg, #17a2b8 0%, #138496 100%); padding: 15px; border-radius: 12px; text-align: center; color: white;">
            <div style="font-size: 20px; margin-bottom: 5px;">📝</div>
            <div style="font-size: 18px; font-weight: bold;">{{ user.get('answered_questions', [])|length }}</div>
            <div style="font-size: 12px; opacity: 0.9;">Respondidas</div>
        </div>
        
        <div class="stat-card" style="background: linear-gradient(135deg, #fd7e14 0%, #e55a00 100%); padding: 15px; border-radius: 12px; text-align: center; color: white;">
            <div style="font-size: 20px; margin-bottom: 5px;">🔥</div>
            <div style="font-size: 18px; font-weight: bold;">{{ user.get('combo', 0) }}</div>
            <div style="font-size: 12px; opacity: 0.9;">Combo</div>
        </div>
    </div>

    <div class="achievement-section card">
        <h2 style="margin-bottom: 20px;">🏅 Conquistas ({{ achievements|length }})</h2>
        
        <div class="achievements" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); gap: 15px;">
            {% for key, achievement in achievements.items() %}
                <div class="achievement unlocked">
                    <div class="achievement-icon">{{ achievement.icon }}</div>
                    <div class="achievement-name">{{ achievement.name }}</div>
                    <div class="achievement-desc">{{ achievement.desc }}</div>
                </div>
            {% endfor %}
            
            {% if achievements|length == 0 %}
                <div style="grid-column: 1 / -1; text-align: center; color: #6c757d; padding: 20px;">
                    <div style="font-size: 40px; margin-bottom: 10px;">🎯</div>
                    <p>Nenhuma conquista ainda!</p>
                </div>
            {% endif %}
        </div>
    </div>

    <div style="margin-top: 30px; text-align: center;">
        <a href="{{ url_for('ranking') }}" class="btn btn-secondary">← Voltar ao Ranking</a>
    </div>

    <style>
        .achievement {
            text-align: center;
            padding: 15px 10px;
            border-radius: 12px;
            transition: all 0.3s;
        }
        
        .achievement.unlocked {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0fff0 100%);
            border: 2px solid #58cc02;
        }
        
        .achievement-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }
        
        .achievement-name {
            font-size: 12px;
            font-weight: bold;
            color: #333;
            margin-bottom: 4px;
        }
        
        .achievement-desc {
            font-size: 10px;
            color: #6c757d;
        }
        
        .stat-card {
            animation: float 3s ease-in-out infinite;
        }
        
        .stat-card:nth-child(2) {
            animation-delay: 1.5s;
        }
        
        .stat-card:nth-child(3) {
            animation-delay: 3s;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }
    </style>
{% endblock %}